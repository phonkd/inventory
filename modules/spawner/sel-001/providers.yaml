# these provider manifests will deploy the corresponding crds via the cluster-api-operator
apiVersion: v1
kind: Namespace
metadata:
  name: capi-system
  annotations:
    argocd.argoproj.io/sync-wave: "-42070"
---
apiVersion: operator.cluster.x-k8s.io/v1alpha2
kind: CoreProvider
metadata:
  name: cluster-api
  namespace: capi-system
  annotations:
    argocd.argoproj.io/sync-wave: "-42071"
---
apiVersion: operator.cluster.x-k8s.io/v1alpha2
kind: IPAMProvider
metadata:
  name: in-cluster
  namespace: capi-system
  annotations:
    argocd.argoproj.io/sync-wave: "-42071"
spec:
  version: v1.0.3
---
apiVersion: operator.cluster.x-k8s.io/v1alpha2
kind: ControlPlaneProvider
metadata:
  name: talos
  namespace: capi-system
  annotations:
    argocd.argoproj.io/sync-wave: "-42071"
# spec:
#   fetchConfig:
#     url: "https://github.com/siderolabs/cluster-api-control-plane-provider-talos/releases/latest/control-plane-components.yam"
---
apiVersion: operator.cluster.x-k8s.io/v1alpha2
kind: BootstrapProvider
metadata:
  name: talos
  namespace: capi-system
  annotations:
    argocd.argoproj.io/sync-wave: "-42071"
spec:
  fetchConfig:
    url: "https://github.com/siderolabs/cluster-api-bootstrap-provider-talos/releases/latest/bootstrap-components.yaml"
